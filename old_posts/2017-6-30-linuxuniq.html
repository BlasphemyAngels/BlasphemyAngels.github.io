<blockquote>
uniq是lunix中一个很常用的命令，常用来做文本处理，对文本行进行去重过滤。
</blockquote>

<h4 id="命令讲解">命令讲解</h4>

<p>找出或忽略重复的行。</p>

<p>命令格式:</p>
<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">uniq</span> <span class="o">[</span>OPTION]... <span class="o">[</span>INPUT <span class="o">[</span>OUTPUT]]
</code></pre></div></div>

<p>对输入的数据中相邻的行进行过滤输出到给定的输出项上。默认情况下是将相邻行中重复的项去掉，只留下重复项中的第一个。</p>

<p>这里要注意，<code class="language-plaintext highlighter-rouge">uniq</code>是对<code class="language-plaintext highlighter-rouge">相邻行</code>进行过滤，所以要使<code class="language-plaintext highlighter-rouge">uniq</code>达到预期结果，一般要先对<code class="language-plaintext highlighter-rouge">uniq</code>的输入进行<code class="language-plaintext highlighter-rouge">排序</code>。</p>

<p>常用选项：</p>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-c, --count</code></p>

    <p>过滤掉重复行，并在输出的每一行前面加上此行出现的次数。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-d, --repeated</code></p>

    <p>只显示在文件中重复的行。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-u, --unique</code></p>

    <p>只显示文件中不重复的行。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-n</code></p>

    <p>在进行每一行的比较时，前<code class="language-plaintext highlighter-rouge">n</code>个字段以及他们之间的空白都不参与比较。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">+n</code></p>

    <p>在进行每一行的比较时，前<code class="language-plaintext highlighter-rouge">n</code>个字符不参与比较。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-f n</code></p>

    <p>与<code class="language-plaintext highlighter-rouge">-n</code>相同，这里<code class="language-plaintext highlighter-rouge">n</code>是字段数。</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">-s n</code></p>

    <p>与<code class="language-plaintext highlighter-rouge">+n</code>相同，这里<code class="language-plaintext highlighter-rouge">n</code>是字符数。</p>
  </li>
</ul>

<h4 id="实验结果">实验结果</h4>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 文件内容</span>
<span class="nv">$ </span><span class="nb">cat test
</span>a hehe a
b hehe b
c hehe c
c hehe d
c hehe d
f hehe f
f hehe f

</code></pre></div></div>
<p>注意在文件中如果只有一个回车，那么此行会被认识空行也会被任务是一行，输出。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 过滤行并显示次数。</span>
<span class="nv">$ </span><span class="nb">uniq</span> <span class="nt">-c</span> <span class="nb">test
</span>1 a hehe a
1 b hehe b
1 c hehe c
2 c hehe d
2 f hehe f
1
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 只显示重复的行。</span>
<span class="nv">$ </span><span class="nb">uniq</span> <span class="nt">-d</span> <span class="nb">test
</span>c hehe d
f hehe f
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 只显示没有重复的行。</span>
<span class="nv">$ </span><span class="nb">uniq</span> <span class="nt">-u</span> <span class="nb">test
</span>a hehe a
b hehe b
c hehe c
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 忽略第一个字段。</span>
<span class="nv">$ </span><span class="nb">uniq</span> <span class="nt">-f</span> 1 <span class="nb">test
</span>a hehe a
b hehe b
c hehe c
c hehe d
f hehe f
</code></pre></div></div>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># 忽略第一个字符，其实效果和上一个一样。</span>
<span class="nv">$ </span><span class="nb">uniq</span> <span class="nt">-s</span> 1 <span class="nb">test
</span>a hehe a
b hehe b
c hehe c
c hehe d
f hehe f
</code></pre></div></div>

<h3 id="参考内容">参考内容</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Linux man page</code></li>
</ul>

